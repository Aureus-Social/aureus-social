function NetBrutMod({s,d}){const ae=s.emps||[];const [tab,setTab]=useState("sim");const [brut,setBrut]=useState(3500);const [statut,setStatut]=useState("employe");const [sitFam,setSitFam]=useState("isole");const [enfants,setEnfants]=useState(0);const [regime,setRegime]=useState(100);const [chRep,setChRep]=useState(true);const [chRepV,setChRepV]=useState(8);const [frais,setFrais]=useState(0);const [atnV,setAtnV]=useState(0);const [atnG,setAtnG]=useState(0);const [atnL,setAtnL]=useState(0);const [assGr,setAssGr]=useState(0);const bp=+brut*(+regime/100);const onssBase=statut==="ouvrier"?bp*1.08:bp;const onssT=onssBase*0.1307;const onssP=bp*0.2507;const imposable=bp-onssT;const atnTot=(+atnV)+(+atnG)+(+atnL);const baseImp=imposable+atnTot;const calcPP=(base,sit,enf)=>{let pp2=0;const an=base*12;if(an<=15820)pp2=an*0.2535;else if(an<=27920)pp2=15820*0.2535+(an-15820)*0.3;else if(an<=48320)pp2=15820*0.2535+12100*0.3+(an-27920)*0.4;else pp2=15820*0.2535+12100*0.3+20400*0.4+(an-48320)*0.45;if(sit==="marie")pp2*=0.7;pp2-=(enf*1920);return Math.max(0,pp2)/12;};const pp=calcPP(baseImp,sitFam,+enfants);const calcCSS=(b2)=>{const t=b2*3;if(t<=6570)return 0;if(t<=8829)return t*0.0764;if(t<=13635)return 51.64+(t-8829)*0.011;return 154.92;};const csss=calcCSS(bp);const retAssGr=bp*(+assGr/100);const chRepNet=chRep?(+chRepV-1.09)*22:0;const net=bp-onssT-pp-csss-atnTot-retAssGr+(+frais);const coutEmpl=bp+onssP;const ratio=coutEmpl>0?((net/coutEmpl)*100).toFixed(1):"0";return <div><PH title="Simulateur Paie Complet" sub="Calcul brut-net detaille - Tous parametres belges - Bareme 2026"/><div style={{display:"grid",gridTemplateColumns:"repeat(6,1fr)",gap:10,marginBottom:18}}>{[{l:"Brut",v:fmt(bp),c:"#c6a34e"},{l:"ONSS -13.07%",v:"- "+fmt(onssT),c:"#f87171"},{l:"Precompte",v:"- "+fmt(pp),c:"#f87171"},{l:"CSSS",v:"- "+fmt(csss),c:"#f87171"},{l:"NET",v:fmt(net),c:"#4ade80"},{l:"Cout employeur",v:fmt(coutEmpl),c:"#fb923c"}].map((k,i)=><div key={i} style={{padding:"12px 14px",background:"rgba(198,163,78,.04)",borderRadius:10,border:"1px solid rgba(198,163,78,.08)"}}><div style={{fontSize:9,color:"#5e5c56",textTransform:"uppercase",letterSpacing:".5px"}}>{k.l}</div><div style={{fontSize:17,fontWeight:700,color:k.c,marginTop:4}}>{k.v}</div></div>)}</div>
<div style={{display:"flex",gap:6,marginBottom:16}}>{[{v:"sim",l:"Simulateur"},{v:"fiche",l:"Fiche de paie"},{v:"baremes",l:"Baremes PP"},{v:"annual",l:"Projection annuelle"},{v:"compare",l:"Comparatif"},{v:"cotis",l:"Detail cotisations"}].map(t=><button key={t.v} onClick={()=>setTab(t.v)} style={{padding:"8px 16px",borderRadius:8,border:"none",cursor:"pointer",fontSize:12,fontWeight:tab===t.v?600:400,fontFamily:"inherit",background:tab===t.v?"rgba(198,163,78,.15)":"rgba(255,255,255,.03)",color:tab===t.v?"#c6a34e":"#9e9b93"}}>{t.l}</button>)}</div>{tab==="sim"&&<div style={{display:"grid",gridTemplateColumns:"340px 1fr",gap:18}}><C><ST>Parametres travailleur</ST><I label="Salaire brut mensuel" type="number" value={brut} onChange={setBrut}/><div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:9}}><div><div style={{fontSize:10,color:"#5e5c56",marginBottom:3}}>Statut</div><select value={statut} onChange={e=>setStatut(e.target.value)} style={{width:"100%",padding:"8px 10px",borderRadius:6,border:"1px solid rgba(198,163,78,.15)",background:"rgba(198,163,78,.04)",color:"#e8e6e0",fontSize:12,fontFamily:"inherit"}}><option value="employe">Employe</option><option value="ouvrier">Ouvrier</option></select></div><div><div style={{fontSize:10,color:"#5e5c56",marginBottom:3}}>Situation familiale</div><select value={sitFam} onChange={e=>setSitFam(e.target.value)} style={{width:"100%",padding:"8px 10px",borderRadius:6,border:"1px solid rgba(198,163,78,.15)",background:"rgba(198,163,78,.04)",color:"#e8e6e0",fontSize:12,fontFamily:"inherit"}}><option value="isole">Isole</option><option value="marie">Marie/Cohabitant</option></select></div></div><div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:9}}><I label="Enfants a charge" type="number" value={enfants} onChange={setEnfants}/><I label="Regime horaire %" type="number" value={regime} onChange={setRegime}/></div><div style={{marginTop:12,borderTop:"1px solid rgba(255,255,255,.05)",paddingTop:10}}><b style={{color:"#c6a34e",fontSize:11}}>AVANTAGES EN NATURE (ATN)</b></div><div style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8,marginTop:6}}><I label="ATN Voiture" type="number" value={atnV} onChange={setAtnV}/><I label="ATN GSM/PC" type="number" value={atnG} onChange={setAtnG}/><I label="ATN Logement" type="number" value={atnL} onChange={setAtnL}/></div><div style={{marginTop:12,borderTop:"1px solid rgba(255,255,255,.05)",paddingTop:10}}><b style={{color:"#c6a34e",fontSize:11}}>DEDUCTIONS</b></div><div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:6}}><I label="Frais propres empl." type="number" value={frais} onChange={setFrais}/><I label="Ass. groupe %" type="number" value={assGr} onChange={setAssGr}/></div><div style={{marginTop:9,display:"flex",alignItems:"center",gap:8}}><div onClick={()=>setChRep(!chRep)} style={{width:18,height:18,borderRadius:4,border:"2px solid "+(chRep?"#4ade80":"#5e5c56"),background:chRep?"rgba(74,222,128,.15)":"transparent",display:"flex",alignItems:"center",justifyContent:"center",fontSize:10,color:"#4ade80",cursor:"pointer"}}>{chRep?"V":""}</div><span style={{fontSize:11,color:"#9e9b93"}}>Cheques-repas</span>{chRep&&<I label="Valeur faciale" type="number" value={chRepV} onChange={setChRepV} style={{width:80,marginLeft:8}}/>}</div></C>
<C><ST>Decomposition brut vers net</ST><div style={{marginBottom:12}}><div style={{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"2px solid rgba(198,163,78,.3)"}}><b style={{color:"#c6a34e"}}>Salaire brut</b><b style={{color:"#c6a34e",fontSize:16}}>{fmt(bp)}</b></div>{[{l:"ONSS personnel (13.07%)",v:-onssT,c:"#f87171"},{l:"Imposable",v:imposable,c:"#e8e6e0"},{l:"ATN total (+)",v:atnTot,c:"#fb923c"},{l:"Base imposable",v:baseImp,c:"#e8e6e0"},{l:"Precompte professionnel",v:-pp,c:"#f87171"},{l:"CSSS",v:-csss,c:"#f87171"},{l:"Retenue assurance groupe",v:-retAssGr,c:"#f87171"},{l:"Frais propres employeur (+)",v:+frais,c:"#4ade80"}].filter(r=>Math.abs(r.v)>0.01).map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#9e9b93",fontSize:12}}>{r.l}</span><span style={{fontWeight:600,color:r.c,fontSize:12}}>{r.v<0?"- "+fmt(Math.abs(r.v)):fmt(r.v)}</span></div>)}<div style={{display:"flex",justifyContent:"space-between",padding:"10px 0",borderTop:"2px solid rgba(74,222,128,.3)",marginTop:8}}><b style={{color:"#4ade80"}}>SALAIRE NET</b><b style={{color:"#4ade80",fontSize:18}}>{fmt(net)}</b></div></div><div style={{borderTop:"1px solid rgba(255,255,255,.05)",paddingTop:10}}><b style={{color:"#f87171",fontSize:11}}>COTE EMPLOYEUR</b>{[{l:"Salaire brut",v:bp},{l:"ONSS patronal (25.07%)",v:onssP},{l:"Cheques-repas (patronal)",v:chRep?(+chRepV-1.09)*22:0},{l:"Assurance AT (~1%)",v:bp*0.01},{l:"Medecine travail",v:7.63}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"4px 0",fontSize:11}}><span style={{color:"#9e9b93"}}>{r.l}</span><span style={{color:"#e8e6e0"}}>{fmt(r.v)}</span></div>)}<div style={{display:"flex",justifyContent:"space-between",padding:"8px 0",borderTop:"2px solid rgba(248,113,113,.3)",marginTop:4}}><b style={{color:"#f87171"}}>COUT TOTAL EMPLOYEUR</b><b style={{color:"#f87171",fontSize:14}}>{fmt(coutEmpl+bp*0.01+7.63+(chRep?(+chRepV-1.09)*22:0))}</b></div></div><div style={{marginTop:12,padding:10,background:"rgba(198,163,78,.04)",borderRadius:8}}><div style={{fontSize:11,color:"#c6a34e",fontWeight:600}}>Ratio net/cout: {ratio}%</div><div style={{height:6,background:"rgba(198,163,78,.1)",borderRadius:3,marginTop:6,overflow:"hidden"}}><div style={{height:"100%",width:ratio+"%",background:"linear-gradient(90deg,#c6a34e,#4ade80)",borderRadius:3}}/></div></div></C></div>}
{tab==="fiche"&&<C><div style={{textAlign:"center",marginBottom:16,padding:"16px 0",borderBottom:"2px solid rgba(198,163,78,.15)"}}><div style={{fontSize:18,fontWeight:700,color:"#c6a34e"}}>FICHE DE PAIE</div><div style={{fontSize:11,color:"#9e9b93"}}>Periode: {new Date().toLocaleDateString("fr-BE",{month:"long",year:"numeric"})}</div></div><div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16}}><div><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase"}}>Travailleur</div><div style={{color:"#e8e6e0",fontSize:13,fontWeight:600}}>{ae[0]?(ae[0].fn+" "+(ae[0].ln||"")):"Nom Prenom"}</div><div style={{color:"#9e9b93",fontSize:11}}>NISS: {ae[0]?.niss||"XX.XX.XX-XXX.XX"}</div><div style={{color:"#9e9b93",fontSize:11}}>Statut: {statut==="ouvrier"?"Ouvrier":"Employe"} - CP 200</div></div><div style={{textAlign:"right"}}><div style={{fontSize:10,color:"#5e5c56",textTransform:"uppercase"}}>Employeur</div><div style={{color:"#e8e6e0",fontSize:13,fontWeight:600}}>Aureus Social Pro</div><div style={{color:"#9e9b93",fontSize:11}}>BCE: BE 1028.230.781</div><div style={{color:"#9e9b93",fontSize:11}}>ONSS: {ae[0]?.onssNr||"XXX-XXXXXXX-XX"}</div></div></div><Tbl cols={[{k:"l",l:"Rubrique",b:1,r:r=>r.rub},{k:"b",l:"Base",a:"right",r:r=><span style={{color:"#9e9b93"}}>{r.base||""}</span>},{k:"t",l:"Taux",a:"right",r:r=><span style={{color:"#60a5fa"}}>{r.taux||""}</span>},{k:"r",l:"Retenue",a:"right",r:r=>r.ret?<span style={{color:"#f87171"}}>- {fmt(r.ret)}</span>:""},{k:"g",l:"Gain",a:"right",r:r=>r.gain?<span style={{color:"#4ade80"}}>{fmt(r.gain)}</span>:""}]} data={[{rub:"Salaire de base",base:fmt(bp),taux:"100%",gain:bp},{rub:"Prime regime ("+regime+"%)",base:"",taux:regime+"%",gain:regime<100?bp:null},{rub:"Brut total",base:"",taux:"",gain:bp},{rub:"ONSS personnelle",base:fmt(onssBase),taux:"13.07%",ret:onssT},{rub:"Remuneration imposable",base:"",taux:"",gain:imposable},{rub:"ATN Voiture",base:"",taux:"",gain:+atnV||null},{rub:"ATN GSM/PC",base:"",taux:"",gain:+atnG||null},{rub:"ATN Logement",base:"",taux:"",gain:+atnL||null},{rub:"Precompte professionnel",base:fmt(baseImp),taux:"bareme",ret:pp},{rub:"CSSS",base:fmt(bp*3),taux:"variable",ret:csss},{rub:"Assurance groupe",base:fmt(bp),taux:assGr+"%",ret:retAssGr||null},{rub:"ATN a deduire",base:"",taux:"",ret:atnTot||null},{rub:"Frais propres employeur",base:"",taux:"",gain:+frais||null},{rub:"Cheques-repas (retenue)",base:"22j",taux:"1.09",ret:chRep?1.09*22:null}].filter(r=>r.gain||r.ret)}/><div style={{display:"flex",justifyContent:"space-between",padding:"12px 0",borderTop:"3px solid rgba(74,222,128,.4)",marginTop:8}}><b style={{color:"#4ade80",fontSize:16}}>NET A PAYER</b><b style={{color:"#4ade80",fontSize:20}}>{fmt(net)}</b></div></C>}
{tab==="baremes"&&<div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:18}}><C><ST>Baremes precompte professionnel 2026</ST><Tbl cols={[{k:"t",l:"Tranche",b:1,r:r=>r.tr},{k:"tx",l:"Taux",a:"right",r:r=><span style={{color:"#c6a34e",fontWeight:700}}>{r.tx}</span>},{k:"i",l:"Impot cumule",a:"right",r:r=><span style={{color:"#f87171"}}>{r.imp}</span>}]} data={[{tr:"0 - 15.820 EUR",tx:"25.35%",imp:"4.010 EUR"},{tr:"15.820 - 27.920 EUR",tx:"30%",imp:"7.640 EUR"},{tr:"27.920 - 48.320 EUR",tx:"40%",imp:"15.800 EUR"},{tr:"48.320+ EUR",tx:"45%",imp:"variable"}]}/></C><C><ST>Reductions precompte</ST>{[{l:"Isole",v:"-289.40 EUR/mois",c:"#4ade80"},{l:"Marie/Cohabitant",v:"Quotient conjugal",c:"#60a5fa"},{l:"1 enfant a charge",v:"-40 EUR/mois",c:"#4ade80"},{l:"2 enfants a charge",v:"-104 EUR/mois",c:"#4ade80"},{l:"3 enfants a charge",v:"-264 EUR/mois",c:"#4ade80"},{l:"4 enfants a charge",v:"-424 EUR/mois",c:"#4ade80"},{l:"Enfant handicape",v:"x2 deduction",c:"#a78bfa"},{l:"Bonus emploi",v:"Reduction si brut < 2.947",c:"#fb923c"}].map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><span style={{color:"#9e9b93",fontSize:12}}>{r.l}</span><span style={{fontWeight:600,color:r.c,fontSize:12}}>{r.v}</span></div>)}</C></div>}{tab==="annual"&&<C><ST>Projection annuelle {new Date().getFullYear()}</ST><Tbl cols={[{k:"r",l:"Rubrique",b:1,r:r=>r.rub},{k:"m",l:"Mensuel",a:"right",r:r=><span style={{color:"#e8e6e0"}}>{fmt(r.mens)}</span>},{k:"a",l:"Annuel (x12)",a:"right",r:r=><span style={{color:"#60a5fa"}}>{fmt(r.mens*12)}</span>},{k:"t",l:"Annuel total",a:"right",r:r=><span style={{color:r.c,fontWeight:700}}>{fmt(r.total)}</span>}]} data={[{rub:"Salaire brut",mens:bp,total:bp*13.92,c:"#c6a34e"},{rub:"ONSS personnel",mens:onssT,total:onssT*13.92,c:"#f87171"},{rub:"Precompte professionnel",mens:pp,total:pp*12,c:"#f87171"},{rub:"CSSS",mens:csss,total:csss*12,c:"#f87171"},{rub:"Net mensuel",mens:net,total:net*12,c:"#4ade80"},{rub:"Pecule vacances (simple)",mens:0,total:bp,c:"#4ade80"},{rub:"Pecule vacances (double)",mens:0,total:bp*0.92,c:"#4ade80"},{rub:"13eme mois / Prime fin annee",mens:0,total:bp,c:"#4ade80"},{rub:"NET ANNUEL TOTAL",mens:net,total:net*12+bp*0.4,c:"#4ade80"},{rub:"Cout employeur mensuel",mens:coutEmpl,total:coutEmpl*12,c:"#f87171"},{rub:"Pecule employeur",mens:0,total:bp*0.92*1.2507,c:"#f87171"},{rub:"13eme mois employeur",mens:0,total:bp*1.2507,c:"#f87171"},{rub:"COUT ANNUEL TOTAL",mens:coutEmpl,total:coutEmpl*12+bp*0.92*1.2507+bp*1.2507,c:"#f87171"}]}/></C>}
{tab==="compare"&&<C><ST>Comparatif salaires bruts</ST><Tbl cols={[{k:"b",l:"Brut",r:r=><b style={{color:"#c6a34e"}}>{fmt(r.b)}</b>},{k:"o",l:"ONSS pers.",a:"right",r:r=><span style={{color:"#f87171"}}>{fmt(r.o)}</span>},{k:"p",l:"PP",a:"right",r:r=><span style={{color:"#f87171"}}>{fmt(r.p)}</span>},{k:"n",l:"Net",a:"right",r:r=><b style={{color:"#4ade80"}}>{fmt(r.n)}</b>},{k:"c",l:"Cout empl.",a:"right",r:r=><span style={{color:"#fb923c"}}>{fmt(r.c)}</span>},{k:"r",l:"Ratio",a:"right",r:r=><span style={{color:"#60a5fa"}}>{r.r}%</span>}]} data={[2000,2500,3000,3500,4000,4500,5000,6000,7000,8000].map(b=>{const o=b*0.1307;const imp=b-o;const p=calcPP(imp,sitFam,+enfants);const cs=calcCSS(b);const n=b-o-p-cs;const c=b*1.2507;return {b,o,p,n,c,r:c>0?((n/c)*100).toFixed(1):"0"}})}/></C>}{tab==="cotis"&&<div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:18}}><C><ST>Cotisations employeur</ST>{[{l:"ONSS de base",t:"24.92%",v:bp*0.2492},{l:"Moderation salariale",t:"0.15%",v:bp*0.0015},{l:"Total ONSS patronal",t:"25.07%",v:onssP},{l:"Assurance accidents travail",t:"~1%",v:bp*0.01},{l:"Fermeture entreprise",t:"0.14%",v:bp*0.0014},{l:"Vacances annuelles (employe)",t:"N/A direct",v:0},{l:"Vacances annuelles (ouvrier)",t:"10.27%+6.93%",v:statut==="ouvrier"?bp*1.08*0.1720:0},{l:"Medecine travail",t:"forfait",v:7.63},{l:"Assurance groupe patronale",t:assGr+"%",v:bp*(+assGr/100)},{l:"Cheques-repas patronal",t:"22j",v:chRep?(+chRepV-1.09)*22:0}].filter(r=>r.v>0).map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><span style={{color:"#e8e6e0",fontSize:12}}>{r.l}</span><span style={{color:"#5e5c56",fontSize:10,marginLeft:6}}>{r.t}</span></div><span style={{fontWeight:600,color:"#f87171",fontSize:12}}>{fmt(r.v)}</span></div>)}</C><C><ST>Cotisations travailleur</ST>{[{l:"ONSS personnelle",t:"13.07%",v:onssT},{l:"Precompte professionnel",t:"bareme",v:pp},{l:"CSSS",t:"variable",v:csss},{l:"Assurance groupe perso.",t:assGr+"%",v:retAssGr},{l:"Cheques-repas retenue",t:"1.09x22j",v:chRep?1.09*22:0}].filter(r=>r.v>0).map((r,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,.03)"}}><div><span style={{color:"#e8e6e0",fontSize:12}}>{r.l}</span><span style={{color:"#5e5c56",fontSize:10,marginLeft:6}}>{r.t}</span></div><span style={{fontWeight:600,color:"#f87171",fontSize:12}}>{fmt(r.v)}</span></div>)}<div style={{display:"flex",justifyContent:"space-between",padding:"10px 0",borderTop:"2px solid rgba(74,222,128,.3)",marginTop:8}}><b style={{color:"#4ade80"}}>Reste net</b><b style={{color:"#4ade80",fontSize:14}}>{fmt(net)}</b></div></C></div>}</div>;}
